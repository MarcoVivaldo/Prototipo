{"CLs":[{"__type":"LD","Not":true,"Var":"P_First_Run"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":14,"Name":"GetCNCError","Out":[{"__type":"PF","Arg":""},{"__type":"PRM","Arg":"Level","Ix":7,"Type":"UINT","Var":"wErrLv[0]"},{"__type":"PRM","Arg":"Code","Ix":8,"Type":"DWORD","Var":"wErrCodeFuncModule[0]"}],"X":1},{"__type":"ST","Ix":1,"Var":"wErrorFuncModule[0]","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":13,"Name":"GetPLCError","Out":[{"__type":"PF","Arg":""},{"__type":"PRM","Arg":"Level","Ix":5,"Type":"UINT","Var":"wErrLv[1]"},{"__type":"PRM","Arg":"Code","Ix":6,"Type":"DWORD","Var":"wErrCodeFuncModule[1]"}],"X":1,"Y":1},{"__type":"ST","Ix":2,"Var":"wErrorFuncModule[1]","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":15,"Name":"GetEIPError","Out":[{"__type":"PF","Arg":""},{"__type":"PRM","Arg":"Level","Ix":9,"Type":"UINT","Var":"wErrLv[2]"},{"__type":"PRM","Arg":"Code","Ix":10,"Type":"DWORD","Var":"wErrCodeFuncModule[2]"}],"X":1,"Y":2},{"__type":"ST","Ix":3,"Var":"wErrorFuncModule[2]","X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":16,"Name":"GetECError","Out":[{"__type":"PF","Arg":""},{"__type":"PRM","Arg":"Level","Ix":11,"Type":"UINT","Var":"wErrLv[3]"},{"__type":"PRM","Arg":"Code","Ix":12,"Type":"DWORD","Var":"wErrCodeFuncModule[3]"}],"X":1,"Y":3},{"__type":"ST","Ix":4,"Var":"wErrorFuncModule[3]","X":2,"Y":3},{"__type":"IST","EID":"fd6c05ae-070c-4b4c-a543-12564e0215c5","H":131.60000000000002,"Ix":17,"TXT":"CncCtrlSta.PFaultLvl:=_CNC_COM.PFaultLvl;\u000d\u000aCncCtrlSta.MFaultLvl:=_CNC_COM.MFaultLvl;\u000d\u000aCncCtrlSta.Obsr:=_CNC_COM.Obsr;\u000d\u000a\u000d\u000aIF ((WORD#16#FFEF AND(_PLC_ErrSta OR _AlarmFlag OR _MC_ErrSta OR _CNC_ErrSta OR _EC_ErrSta OR _EIP_ErrSta)) = WORD#16#0000) THEN\u000d\u000a\u0009CncCtrlSta.Sta_Err := FALSE;\u0009\u0009\u000d\u000aELSE\u000d\u000a\u0009CncCtrlSta.Sta_Err := TRUE;\u000d\u000aEND_IF;","W":587.79999999999984,"X":1,"Y":4},{"__type":"HL","X":2,"Y":4}],"CMT":"Check error of function modules","LRI":18,"RRI":19,"VLs":[{"Ix":20,"X":1},{"Ix":20,"X":1,"Y":1},{"Ix":20,"X":1,"Y":2},{"Ix":20,"X":1,"Y":3}]}
{"CLs":[{"__type":"LD","Var":"wErrorFuncModule[0]"},{"__type":"LD","Ix":1,"Var":"wErrorFuncModule[1]","Y":1},{"__type":"LD","Ix":2,"Var":"wErrorFuncModule[2]","Y":2},{"__type":"LD","Ix":3,"Var":"wErrorFuncModule[3]","Y":3},{"__type":"ST","Ix":4,"Var":"CncCtrlSta.Sta.Error","X":1}],"LRI":5,"RRI":6,"VLs":[{"Ix":7,"X":1},{"Ix":7,"X":1,"Y":1},{"Ix":7,"X":1,"Y":2}]}
{"CLs":[{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f0200000021","Up":true,"Var":"wErrorFuncModule[0]"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":3,"Type":"ANY","Var":"WORD#0000"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":4,"Type":"ANY","Var":"CncCtrlSta.Sta.ErrorID"}],"X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"wErrCodeFuncModule[0]"}],"Ix":5,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"CncCtrlSta.Sta.ErrorIDEx"}],"X":2}],"LRI":7,"RRI":8,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f020000002b","Up":true,"Var":"wErrorFuncModule[1]"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":3,"Type":"ANY","Var":"WORD#0000"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":4,"Type":"ANY","Var":"CncCtrlSta.Sta.ErrorID"}],"X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"wErrCodeFuncModule[1]"}],"Ix":5,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"CncCtrlSta.Sta.ErrorIDEx"}],"X":2}],"LRI":7,"RRI":8,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f0200000035","Up":true,"Var":"wErrorFuncModule[2]"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":3,"Type":"ANY","Var":"WORD#0000"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":4,"Type":"ANY","Var":"CncCtrlSta.Sta.ErrorID"}],"X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"wErrCodeFuncModule[2]"}],"Ix":5,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"CncCtrlSta.Sta.ErrorIDEx"}],"X":2}],"LRI":7,"RRI":8,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f020000003f","Up":true,"Var":"wErrorFuncModule[3]"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":3,"Type":"ANY","Var":"WORD#0000"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":4,"Type":"ANY","Var":"CncCtrlSta.Sta.ErrorID"}],"X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"wErrCodeFuncModule[3]"}],"Ix":5,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"CncCtrlSta.Sta.ErrorIDEx"}],"X":2}],"LRI":7,"RRI":8,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f020000004e","Ix":5,"Up":true,"Var":"CncCsCmdSta[0].Connect.DisconnectedUnderBusy"},{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f020000004d","Ix":4,"Up":true,"Var":"CncCsCmdSta[0].Connect.LostHeartbeat","Y":1},{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f0200000049","Up":true,"Var":"wErrorFuncModule[0]","Y":2},{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f020000004a","Ix":1,"Up":true,"Var":"wErrorFuncModule[1]","Y":3},{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f020000004b","Ix":2,"Up":true,"Var":"wErrorFuncModule[2]","Y":4},{"__type":"LD","Id":"e6a892de-48f3-481c-ba7e-6f020000004c","Ix":3,"Up":true,"Var":"wErrorFuncModule[3]","Y":5},{"__type":"FB","In":[{"__type":"PRM","Arg":"Coord","IO":true,"Ix":7,"Type":"_sCNC_COORD_REF","Var":"_CNC_Coord[0]"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Deceleration","Ix":8,"Type":"ARRAY[0..2] OF LREAL","Var":"CncCsCnfg[0].DecelerationForCsStop"},{"__type":"PRM","Arg":"Jerk","Ix":9,"Type":"LREAL","Var":"CncCsCnfg[0].JerkForCsStop"}],"Ix":15,"Name":"CNC_CoordStop","Out":[{"__type":"PRM","Arg":"Coord","IO":true,"Ix":10,"Type":"_sCNC_COORD_REF","Var":"_CNC_Coord[0]"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":11,"Type":"BOOL","Var":"wOut_CoordStop[0].Busy"},{"__type":"PRM","Arg":"CommandAborted","Ix":12,"Type":"BOOL","Var":"wOut_CoordStop[0].CA"},{"__type":"PRM","Arg":"Error","Ix":13,"Type":"BOOL","Var":"wOut_CoordStop[0].Error"},{"__type":"PRM","Arg":"ErrorID","Ix":14,"Type":"WORD","Var":"wOut_CoordStop[0].ErrorID"}],"X":1,"Var":"Inst_CNC_CoordStop[0]"},{"__type":"ST","Ix":6,"Var":"wOut_CoordStop[0].Done","X":2}],"CMT":"CoordStop by error of function modules","LRI":16,"RRI":17,"VLs":[{"Ix":18,"X":1},{"Ix":18,"X":1,"Y":1},{"Ix":18,"X":1,"Y":2},{"Ix":18,"X":1,"Y":3},{"Ix":18,"X":1,"Y":4}]}
{"CLs":[{"__type":"LD","Var":"CncCsHwSw[0].EMS"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Coord","IO":true,"Ix":3,"Type":"_sCNC_COORD_REF","Var":"_CNC_Coord[0]"},{"__type":"PF","Arg":"Execute"}],"Ix":9,"Name":"CNC_CoordImmediateStop","Out":[{"__type":"PRM","Arg":"Coord","IO":true,"Ix":4,"Type":"_sCNC_COORD_REF","Var":"_CNC_Coord[0]"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":5,"Type":"BOOL","Var":"wOut_ImmediateStop[0].Busy"},{"__type":"PRM","Arg":"CommandAborted","Ix":6,"Type":"BOOL","Var":"wOut_ImmediateStop[0].CA"},{"__type":"PRM","Arg":"Error","Ix":7,"Type":"BOOL","Var":"wOut_ImmediateStop[0].Error"},{"__type":"PRM","Arg":"ErrorID","Ix":8,"Type":"WORD","Var":"wOut_ImmediateStop[0].ErrorID"}],"X":1,"Var":"Inst_CNC_CoordImmediateStop[0]"},{"__type":"ST","Ix":2,"Var":"wOut_ImmediateStop[0].Done","X":2},{"__type":"ST","Ix":1,"S":true,"Var":"CncCsCmd[0].SpindleOutputs.EMS","X":1,"Y":1},{"__type":"HL","X":2,"Y":1}],"CMT":"ImmediateStop by EMS","LRI":10,"RRI":11,"VLs":[{"Ix":12,"X":1}]}
{"CLs":[{"__type":"IST","EID":"bfd47880-6b26-4781-ad33-749fa2496997","H":130,"TXT":"CncCsStatus[0].Sta.MFaultLvl:=_CNC_Coord[0].MFaultLvl;\u000d\u000aCncCsStatus[0].Sta.Obsr:=_CNC_Coord[0].Obsr;","W":765}],"LRI":1,"RRI":2,"VLs":[]}
