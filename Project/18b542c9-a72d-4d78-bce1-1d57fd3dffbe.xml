{"CLs":[{"__type":"ST","RS":true,"Var":"CncCsCmd[0].Mpg.HandHeldMode"}],"CMT":"Giving the control rights to HMI","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"ST","Var":"MPG_PDO_CEN"}],"CMT":"Perform \"Counter Enable\"","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"MPG_Di_Axis_X"},{"__type":"LD","Ix":1,"Var":"MPG_Di_Axis_Y","Y":1},{"__type":"LD","Ix":2,"Var":"MPG_Di_Axis_Z","Y":2},{"__type":"ST","Ix":3,"Var":"AxisSelected","X":1}],"CMT":"Conditions that any axis is selected","LRI":4,"RRI":5,"VLs":[{"Ix":6,"X":1},{"Ix":6,"X":1,"Y":1}]}
{"CLs":[{"__type":"LD","Id":"17a03609-2af2-461b-99e7-fa9500000012","Up":true,"Var":"AxisSelected"},{"__type":"LD","Ix":1,"Var":"AxisChanging","Y":1},{"__type":"LD","Ix":2,"Var":"CncCsStatus[0].Sta.PositioningAxesRunning","X":1,"Y":1},{"__type":"LD","Ix":3,"Var":"CncCsStatus[0].Sta.Busy_Manual","X":1,"Y":2},{"__type":"HL","X":1},{"__type":"ST","Ix":4,"Var":"AxisChanging","X":2}],"CMT":"Conditions that the axis to move is changing","LRI":5,"RRI":6,"VLs":[{"Ix":7,"X":2},{"Ix":7,"X":2,"Y":1},{"Ix":8,"X":1,"Y":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Type":"ANY","Var":"UINT#4"}],"Ix":2,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":1,"Type":"ANY","Var":"CncCsCmd[0].Mpg.PulseCntPerMpgScale"}]}],"CMT":"Initialize PulseCntPerMpgScale","LRI":3,"RRI":4,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":12,"Not":true,"Var":"CncCsCmd[0].Mpg.HandHeldMode"},{"__type":"LD","Id":"17a03609-2af2-461b-99e7-fa9500000022","Up":true,"Var":"CncCsCmd[0].Mpg.Enable","X":1},{"__type":"LD","Ix":13,"Var":"CncCsCmd[0].Mpg.HandHeldMode","Y":1},{"__type":"LD","Dwn":true,"Id":"17a03609-2af2-461b-99e7-fa9500000030","Ix":14,"Var":"AxisChanging","X":1,"Y":1},{"__type":"LD","Ix":1,"Var":"CncCsStatus[0].Mode.AutoMode","X":2},{"__type":"LD","Ix":2,"Var":"_CNC_Coord[0].Status.Hold","X":3},{"__type":"LD","Ix":3,"Var":"CncCsStatus[0].Mode.CurrentModeBits[cMpg]","X":2,"Y":1},{"__type":"LD","Ix":9,"Not":true,"Var":"CncCsStatus[0].Sta.PositioningAxesRunning","X":3,"Y":1},{"__type":"LD","Ix":10,"Not":true,"Var":"CncCsStatus[0].Sta.Busy_Manual","X":4,"Y":1},{"__type":"LD","Ix":4,"Var":"wIn_MPG_Enable","Y":2},{"__type":"LD","Ix":15,"Not":true,"Var":"CncCsCmd[0].Mpg.HandHeldMode","X":1,"Y":2},{"__type":"LD","Ix":11,"Var":"CncCsCmd[0].Mpg.Enable","X":2,"Y":2},{"__type":"LD","Ix":16,"Var":"CncCsCmd[0].Mpg.HandHeldMode","X":1,"Y":3},{"__type":"LD","Ix":17,"Var":"AxisSelected","X":2,"Y":3},{"__type":"LD","Ix":18,"Not":true,"Var":"AxisChanging","X":3,"Y":3},{"__type":"HL","X":3,"Y":2},{"__type":"LD","Ix":5,"Var":"CncCsStatus[0].Mode.AutoMode","X":4,"Y":2},{"__type":"LD","Ix":7,"Var":"_CNC_Coord[0].Status.Hold","X":5,"Y":2},{"__type":"LD","Ix":6,"Var":"_CNC_Coord[0].Status.MovingOnHold","X":5,"Y":3},{"__type":"LD","Ix":8,"Var":"CncCsStatus[0].Mode.CurrentModeBits[cMpg]","X":4,"Y":4},{"__type":"HL","X":4},{"__type":"HL","X":5},{"__type":"HL","X":5,"Y":1},{"__type":"HL","X":5,"Y":4},{"__type":"ST","Ix":19,"Var":"wIn_MPG_Enable","X":6}],"CMT":"Trigger for executing MPG","LRI":20,"RRI":21,"VLs":[{"Ix":22,"X":6},{"Ix":22,"X":6,"Y":1},{"Ix":22,"X":6,"Y":2},{"Ix":22,"X":6,"Y":3},{"Ix":23,"X":5,"Y":2},{"Ix":24,"X":4,"Y":2},{"Ix":24,"X":4,"Y":3},{"Ix":25,"X":2},{"Ix":26,"X":1,"Y":2}]}
{"CLs":[{"__type":"IST","EID":"fe238266-14ec-4e87-8983-f77a4bdd8953","H":84.399999999999977,"TXT":"CncCsCmd[0].Mpg.PositionVal := MPG_Ei_Pos;","W":705.6}],"CMT":"Device variables <-> Global variables","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"CncCsCmd[0].Mpg.HandHeldMode"},{"__type":"LD","Var":"MPG_Di_MAG_1","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":7,"Type":"ANY","Var":"UINT#1"}],"Ix":19,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":8,"Type":"ANY","Var":"CncCsCmd[0].Mpg.Magnification"}],"X":2},{"__type":"LD","Ix":2,"Var":"MPG_Di_MAG_10","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":9,"Type":"ANY","Var":"UINT#10"}],"Ix":20,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":10,"Type":"ANY","Var":"CncCsCmd[0].Mpg.Magnification"}],"X":2,"Y":1},{"__type":"LD","Ix":3,"Var":"MPG_Di_MAG_100","X":1,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":11,"Type":"ANY","Var":"UINT#100"}],"Ix":21,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":12,"Type":"ANY","Var":"CncCsCmd[0].Mpg.Magnification"}],"X":2,"Y":2},{"__type":"LD","Ix":4,"Var":"MPG_Di_Axis_X","X":1,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":13,"Type":"ANY","Var":"UINT#0"}],"Ix":22,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":14,"Type":"ANY","Var":"CncCsCmd[0].Mpg.LogicalMotorNo"}],"X":2,"Y":3},{"__type":"LD","Ix":5,"Var":"MPG_Di_Axis_Y","X":1,"Y":4},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":15,"Type":"ANY","Var":"UINT#1"}],"Ix":23,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":16,"Type":"ANY","Var":"CncCsCmd[0].Mpg.LogicalMotorNo"}],"X":2,"Y":4},{"__type":"LD","Ix":6,"Var":"MPG_Di_Axis_Z","X":1,"Y":5},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":17,"Type":"ANY","Var":"UINT#2"}],"Ix":24,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":18,"Type":"ANY","Var":"CncCsCmd[0].Mpg.LogicalMotorNo"}],"X":2,"Y":5}],"CMT":"Overwriting Global variables when MPG has the control rights","LRI":25,"RRI":26,"VLs":[{"Ix":27,"X":1},{"Ix":27,"X":1,"Y":1},{"Ix":27,"X":1,"Y":2},{"Ix":27,"X":1,"Y":3},{"Ix":27,"X":1,"Y":4}]}
{"CLs":[{"__type":"LD","Not":true,"Var":"CncCsCmd[0].Mpg.HandHeldMode"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"UINT#1"}],"Ix":3,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"CncCsCmd[0].Mpg.Magnification"}],"X":1}],"CMT":"Magnification = 1 If HMI has the control rights","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"CncCsCmd[0].Mpg.HandHeldMode"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"LREAL#1"}],"Ix":3,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"CncCsCmd[0].Mpg.TravelDistancePer100Pulse"}],"X":1}],"CMT":"TravelDistancePer100Pulse = 1 if MPG has the control rights","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"d9d1790b-d0a3-41c5-be7a-e3b4301ba762","H":67.600000000000023,"TXT":"MagnifiedTravelDistancePer100Pulse:= \u000d\u000a CncCsCmd[0].Mpg.Magnification * CncCsCmd[0].Mpg.TravelDistancePer100Pulse;","W":635.19999999999993}],"CMT":"Calculating Jog Speeds","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Type":"ANY","Var":"MagnifiedTravelDistancePer100Pulse"}],"Ix":2,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":1,"Type":"ANY","Var":"CncCsCmdSta[0].Mpg.MagnifiedTravelDistancePer100Pulse"}]}],"LRI":3,"RRI":4,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"b69c0fe6-7abf-4ff8-a7ea-ed468d38859f","H":130,"TXT":"wIn_TravelDisntacePer100Pulse := \u000d\u000a CncCsCmdSta[0].Mpg.MagnifiedTravelDistancePer100Pulse \/ UINT_TO_LREAL(CncCsCmd[0].Mpg.PulseCntPerMpgScale);","W":765.59999999999991}],"LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"wIn_MPG_Enable"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Coord","IO":true,"Ix":1,"Type":"_sCNC_COORD_REF","Var":"_CNC_Coord[0]"},{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"PositionVal","Ix":2,"Type":"DINT","Var":"CncCsCmd[0].Mpg.PositionVal"},{"__type":"PRM","Arg":"LogicalMotorNo","Ix":3,"Type":"UINT","Var":"CncCsCmd[0].Mpg.LogicalMotorNo"},{"__type":"PRM","Arg":"TravelDistancePer100Pulse","Ix":4,"Type":"LREAL","Var":"wIn_TravelDisntacePer100Pulse"}],"Ix":12,"Name":"\\\\CNC\\CNC_MPG","Out":[{"__type":"PRM","Arg":"Coord","IO":true,"Ix":5,"Type":"_sCNC_COORD_REF","Var":"_CNC_Coord[0]"},{"__type":"PF","Arg":"InPosition"},{"__type":"PRM","Arg":"Busy","Ix":6,"Type":"BOOL","Var":"CncCsCmdSta[0].Mpg.Sta.Busy"},{"__type":"PRM","Arg":"Done","Ix":7,"Type":"BOOL","Var":"CncCsCmdSta[0].Mpg.Sta.Done"},{"__type":"PRM","Arg":"CommandAborted","Ix":8,"Type":"BOOL","Var":"CncCsCmdSta[0].Mpg.Sta.CA"},{"__type":"PRM","Arg":"Error","Ix":9,"Type":"BOOL","Var":"CncCsCmdSta[0].Mpg.Sta.Error"},{"__type":"PRM","Arg":"ErrorID","Ix":10,"Type":"WORD","Var":"CncCsCmdSta[0].Mpg.Sta.ErrorID"},{"__type":"PRM","Arg":"ErrorIDEx","Ix":11,"Type":"DWORD","Var":"CncCsCmdSta[0].Mpg.Sta.ErrorIDEx"}],"UD":true,"X":1,"Var":"Inst_CNC_MPG"}],"CMT":"Executing CNC_MPG","LRI":13,"RRI":14,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"CncCsCmdSta[0].Mpg.Sta.Busy"},{"__type":"ST","Ix":1,"Var":"MPG_Do_RUN","X":1}],"CMT":"Device variables <-> Global variables","LRI":2,"RRI":3,"VLs":[]}
